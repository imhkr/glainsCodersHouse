{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\himan\\\\Downloads\\\\Compressed\\\\Glains-Coders-House-master\\\\GlainsCodersHouse\\\\backend\\\\frontend\\\\src\\\\pages\\\\Steps\\\\StepAvatar\\\\StepAvatar.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Card from \"../../../components/shared/Card/Card\";\nimport Button from \"../../../components/shared/Button/Button\";\nimport styles from \"./StepAvatar.module.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setAvatar } from \"../../../store/activateSlice\";\nimport { activate } from \"../../../http\";\nimport { setAuth } from \"../../../store/authSlice\";\nimport Loader from \"../../../components/shared/Loader/Loader\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst StepAvatar = ({\n  onNext\n}) => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    name,\n    avatar\n  } = useSelector(state => state.activate);\n  const [image, setImage] = useState(\"/images/monkey-avatar.png\");\n  const [loading, setLoading] = useState(false);\n  const [unMounted, setUnMounted] = useState(false);\n\n  function captureImage(e) {\n    const file = e.target.files[0];\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n\n    reader.onloadend = function () {\n      setImage(reader.result);\n      dispatch(setAvatar(reader.result));\n    };\n  }\n\n  async function submit() {\n    if (!avatar) {\n      (function showToastMessage() {\n        toast.error(\"Please Upload Your Profile Picture\", {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      })();\n\n      return;\n    }\n\n    setLoading(true);\n\n    if (name && avatar) {\n      try {\n        const {\n          data\n        } = await activate({\n          name,\n          avatar\n        });\n\n        if (data.auth) {\n          if (!unMounted) {\n            dispatch(setAuth(data));\n          }\n        }\n      } catch (err) {\n        console.log(err);\n      } finally {\n        setLoading(false);\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => {\n      setUnMounted(true);\n    };\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(Loader, {\n    message: \"Activation in progress...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      title: `Okay, ${name}`,\n      icon: \"monkey-emoji\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.subHeading,\n        children: \"How\\u2019s this photo?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.avatarWrapper,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.avatarImage,\n          src: image,\n          alt: \"avatar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: captureImage,\n          id: \"avatarInput\",\n          type: \"file\",\n          className: styles.avatarInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: styles.avatarLabel,\n          htmlFor: \"avatarInput\",\n          children: \"Choose a Photo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: submit,\n          text: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(StepAvatar, \"Xs6v4+IhPP8mPG16xrjtIarIaVk=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = StepAvatar;\nexport default StepAvatar;\n\nvar _c;\n\n$RefreshReg$(_c, \"StepAvatar\");","map":{"version":3,"sources":["C:/Users/himan/Downloads/Compressed/Glains-Coders-House-master/GlainsCodersHouse/backend/frontend/src/pages/Steps/StepAvatar/StepAvatar.jsx"],"names":["React","useState","useEffect","Card","Button","styles","useSelector","useDispatch","setAvatar","activate","setAuth","Loader","ToastContainer","toast","StepAvatar","onNext","dispatch","name","avatar","state","image","setImage","loading","setLoading","unMounted","setUnMounted","captureImage","e","file","target","files","reader","FileReader","readAsDataURL","onloadend","result","submit","showToastMessage","error","position","POSITION","TOP_RIGHT","data","auth","err","console","log","subHeading","avatarWrapper","avatarImage","avatarInput","avatarLabel"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Card from \"../../../components/shared/Card/Card\";\nimport Button from \"../../../components/shared/Button/Button\";\nimport styles from \"./StepAvatar.module.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setAvatar } from \"../../../store/activateSlice\";\nimport { activate } from \"../../../http\";\nimport { setAuth } from \"../../../store/authSlice\";\nimport Loader from \"../../../components/shared/Loader/Loader\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nconst StepAvatar = ({ onNext }) => {\n  const dispatch = useDispatch();\n  const { name, avatar } = useSelector((state) => state.activate);\n  const [image, setImage] = useState(\"/images/monkey-avatar.png\");\n  const [loading, setLoading] = useState(false);\n  const [unMounted, setUnMounted] = useState(false);\n\n  function captureImage(e) {\n    const file = e.target.files[0];\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onloadend = function () {\n      setImage(reader.result);\n      dispatch(setAvatar(reader.result));\n    };\n  }\n  async function submit() {\n    if (!avatar) {\n      (function showToastMessage() {\n        toast.error(\"Please Upload Your Profile Picture\", {\n          position: toast.POSITION.TOP_RIGHT,\n        });\n      })();\n      return;\n    }\n    setLoading(true);\n    if (name && avatar) {\n      try {\n        const { data } = await activate({ name, avatar });\n        if (data.auth) {\n          if (!unMounted) {\n            dispatch(setAuth(data));\n          }\n        }\n      } catch (err) {\n        console.log(err);\n      } finally {\n        setLoading(false);\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => {\n      setUnMounted(true);\n    };\n  }, []);\n\n  if (loading) return <Loader message=\"Activation in progress...\" />;\n  return (\n    <>\n      <Card title={`Okay, ${name}`} icon=\"monkey-emoji\">\n        <p className={styles.subHeading}>How’s this photo?</p>\n        <div className={styles.avatarWrapper}>\n          <img className={styles.avatarImage} src={image} alt=\"avatar\" />\n        </div>\n        <div>\n          <input\n            onChange={captureImage}\n            id=\"avatarInput\"\n            type=\"file\"\n            className={styles.avatarInput}\n          />\n          <label className={styles.avatarLabel} htmlFor=\"avatarInput\">\n            Choose a Photo\n          </label>\n        </div>\n        <div>\n          <Button onClick={submit} text=\"Next\" />\n        </div>\n      </Card>\n      <ToastContainer />\n    </>\n  );\n};\n\nexport default StepAvatar;\n"]},"metadata":{},"sourceType":"module"}