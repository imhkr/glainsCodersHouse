{"ast":null,"code":"import _objectSpread from\"C:/Users/himan/Downloads/Compressed/Glains-Coders-House-master/GlainsCodersHouse/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"C:/Users/himan/Downloads/Compressed/Glains-Coders-House-master/GlainsCodersHouse/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"children\"],_excluded2=[\"children\"],_excluded3=[\"children\"];import'./App.css';import{BrowserRouter,Switch,Route,Redirect}from'react-router-dom';import Home from'./pages/Home/Home';import Navigation from'./components/shared/Navigation/Navigation';import Authenticate from'./pages/Authenticate/Authenticate';import Activate from'./pages/Activate/Activate';import Rooms from'./pages/Rooms/Rooms';import Room from'./pages/Room/Room';import{useSelector}from'react-redux';import{useLoadingWithRefresh}from'./hooks/useLoadingWithRefresh';import Loader from'./components/shared/Loader/Loader';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// call refresh endpoint\nvar _useLoadingWithRefres=useLoadingWithRefresh(),loading=_useLoadingWithRefres.loading;return loading?/*#__PURE__*/_jsx(Loader,{message:\"Loading, please wait..\"}):/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(GuestRoute,{path:\"/\",exact:true,children:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(GuestRoute,{path:\"/authenticate\",children:/*#__PURE__*/_jsx(Authenticate,{})}),/*#__PURE__*/_jsx(SemiProtectedRoute,{path:\"/activate\",children:/*#__PURE__*/_jsx(Activate,{})}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/rooms\",children:/*#__PURE__*/_jsx(Rooms,{})}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/room/:id\",children:/*#__PURE__*/_jsx(Room,{})})]})]});}var GuestRoute=function GuestRoute(_ref){var children=_ref.children,rest=_objectWithoutProperties(_ref,_excluded);var _useSelector=useSelector(function(state){return state.auth;}),isAuth=_useSelector.isAuth;return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:function render(_ref2){var location=_ref2.location;return isAuth?/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/rooms',state:{from:location}}}):children;}}));};var SemiProtectedRoute=function SemiProtectedRoute(_ref3){var children=_ref3.children,rest=_objectWithoutProperties(_ref3,_excluded2);var _useSelector2=useSelector(function(state){return state.auth;}),user=_useSelector2.user,isAuth=_useSelector2.isAuth;return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:function render(_ref4){var location=_ref4.location;return!isAuth?/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/',state:{from:location}}}):isAuth&&!user.activated?children:/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/rooms',state:{from:location}}});}}));};var ProtectedRoute=function ProtectedRoute(_ref5){var children=_ref5.children,rest=_objectWithoutProperties(_ref5,_excluded3);var _useSelector3=useSelector(function(state){return state.auth;}),user=_useSelector3.user,isAuth=_useSelector3.isAuth;return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:function render(_ref6){var location=_ref6.location;return!isAuth?/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/',state:{from:location}}}):isAuth&&!user.activated?/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/activate',state:{from:location}}}):children;}}));};export default App;","map":{"version":3,"sources":["C:/Users/himan/Downloads/Compressed/Glains-Coders-House-master/GlainsCodersHouse/backend/frontend/src/App.js"],"names":["BrowserRouter","Switch","Route","Redirect","Home","Navigation","Authenticate","Activate","Rooms","Room","useSelector","useLoadingWithRefresh","Loader","App","loading","GuestRoute","children","rest","state","auth","isAuth","location","pathname","from","SemiProtectedRoute","user","activated","ProtectedRoute"],"mappings":"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","sourcesContent":["import './App.css';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport Home from './pages/Home/Home';\nimport Navigation from './components/shared/Navigation/Navigation';\nimport Authenticate from './pages/Authenticate/Authenticate';\nimport Activate from './pages/Activate/Activate';\nimport Rooms from './pages/Rooms/Rooms';\nimport Room from './pages/Room/Room';\nimport { useSelector } from 'react-redux';\nimport { useLoadingWithRefresh } from './hooks/useLoadingWithRefresh';\nimport Loader from './components/shared/Loader/Loader';\n\nfunction App() {\n    // call refresh endpoint\n    const { loading } = useLoadingWithRefresh();\n\n    return loading ? (\n        <Loader message=\"Loading, please wait..\" />\n    ) : (\n        <BrowserRouter>\n            <Navigation />\n            <Switch>\n                <GuestRoute path=\"/\" exact>\n                    <Home />\n                </GuestRoute>\n                <GuestRoute path=\"/authenticate\">\n                    <Authenticate />\n                </GuestRoute>\n                <SemiProtectedRoute path=\"/activate\">\n                    <Activate />\n                </SemiProtectedRoute>\n                <ProtectedRoute path=\"/rooms\">\n                    <Rooms />\n                </ProtectedRoute>\n                <ProtectedRoute path=\"/room/:id\">\n                    <Room />\n                </ProtectedRoute>\n            </Switch>\n        </BrowserRouter>\n    );\n}\n\nconst GuestRoute = ({ children, ...rest }) => {\n    const { isAuth } = useSelector((state) => state.auth);\n    return (\n        <Route\n            {...rest}\n            render={({ location }) => {\n                return isAuth ? (\n                    <Redirect\n                        to={{\n                            pathname: '/rooms',\n                            state: { from: location },\n                        }}\n                    />\n                ) : (\n                    children\n                );\n            }}\n        ></Route>\n    );\n};\n\nconst SemiProtectedRoute = ({ children, ...rest }) => {\n    const { user, isAuth } = useSelector((state) => state.auth);\n    return (\n        <Route\n            {...rest}\n            render={({ location }) => {\n                return !isAuth ? (\n                    <Redirect\n                        to={{\n                            pathname: '/',\n                            state: { from: location },\n                        }}\n                    />\n                ) : isAuth && !user.activated ? (\n                    children\n                ) : (\n                    <Redirect\n                        to={{\n                            pathname: '/rooms',\n                            state: { from: location },\n                        }}\n                    />\n                );\n            }}\n        ></Route>\n    );\n};\n\nconst ProtectedRoute = ({ children, ...rest }) => {\n    const { user, isAuth } = useSelector((state) => state.auth);\n    return (\n        <Route\n            {...rest}\n            render={({ location }) => {\n                return !isAuth ? (\n                    <Redirect\n                        to={{\n                            pathname: '/',\n                            state: { from: location },\n                        }}\n                    />\n                ) : isAuth && !user.activated ? (\n                    <Redirect\n                        to={{\n                            pathname: '/activate',\n                            state: { from: location },\n                        }}\n                    />\n                ) : (\n                    children\n                );\n            }}\n        ></Route>\n    );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}