{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/himan/Downloads/Compressed/Glains-Coders-House-master/GlainsCodersHouse/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/himan/Downloads/Compressed/Glains-Coders-House-master/GlainsCodersHouse/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/himan/Downloads/Compressed/Glains-Coders-House-master/GlainsCodersHouse/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Card from\"../../../../components/shared/Card/Card\";import Button from\"../../../../components/shared/Button/Button\";import TextInput from\"../../../../components/shared/TextInput/TextInput\";import styles from\"../StepPhoneEmail.module.css\";import{sendOtp}from\"../../../../http/index\";import{useDispatch}from\"react-redux\";import{setOtp}from\"../../../../store/authSlice\";import Alert from\"../../../../components/Alert/Alert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Phone=function Phone(_ref){var onNext=_ref.onNext;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),phoneNumber=_useState2[0],setPhoneNumber=_useState2[1];var dispatch=useDispatch();function submit(){return _submit.apply(this,arguments);}function _submit(){_submit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var regexPhoneNumber,_yield$sendOtp,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(phoneNumber){_context.next=2;break;}return _context.abrupt(\"return\");case 2:regexPhoneNumber=/^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$/im;if(!phoneNumber.match(regexPhoneNumber)){_context.next=13;break;}_context.next=6;return sendOtp({phone:phoneNumber});case 6:_yield$sendOtp=_context.sent;data=_yield$sendOtp.data;console.log(data);dispatch(setOtp({phone:data.phone,hash:data.hash}));onNext();_context.next=15;break;case 13:alert(\"Please Enter a Valid Phone Number\");//   <Alert error={\"Please Enter a Valid Phone\"}></Alert>;\nreturn _context.abrupt(\"return\");case 15:case\"end\":return _context.stop();}}},_callee);}));return _submit.apply(this,arguments);}return/*#__PURE__*/_jsxs(Card,{title:\"Enter you phone number\",icon:\"phone\",children:[/*#__PURE__*/_jsx(TextInput,{value:phoneNumber,onChange:function onChange(e){return setPhoneNumber(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:styles.actionButtonWrap,children:/*#__PURE__*/_jsx(Button,{text:\"Next\",onClick:submit})}),/*#__PURE__*/_jsx(\"p\",{className:styles.bottomParagraph,children:\"By entering your number, you\\u2019re agreeing to our Terms of Service and Privacy Policy. Thanks!\"})]})]});};export default Phone;","map":{"version":3,"sources":["C:/Users/himan/Downloads/Compressed/Glains-Coders-House-master/GlainsCodersHouse/backend/frontend/src/pages/Steps/StepPhoneEmail/Phone/Phone.jsx"],"names":["React","useState","Card","Button","TextInput","styles","sendOtp","useDispatch","setOtp","Alert","Phone","onNext","phoneNumber","setPhoneNumber","dispatch","submit","regexPhoneNumber","match","phone","data","console","log","hash","alert","e","target","value","actionButtonWrap","bottomParagraph"],"mappings":"qoBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,IAAP,KAAiB,yCAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,6CAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,mDAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,8BAAnB,CACA,OAASC,OAAT,KAAwB,wBAAxB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,MAAT,KAAuB,6BAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oCAAlB,C,wFAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAAgB,IAAbC,CAAAA,MAAa,MAAbA,MAAa,CAC5B,cAAsCV,QAAQ,CAAC,EAAD,CAA9C,wCAAOW,WAAP,eAAoBC,cAApB,eACA,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CAF4B,QAIbQ,CAAAA,MAJa,4HAI5B,+KACOH,WADP,iEAEQI,gBAFR,CAGI,6DAHJ,KAIMJ,WAAW,CAACK,KAAZ,CAAkBD,gBAAlB,CAJN,gDAK2BV,CAAAA,OAAO,CAAC,CAAEY,KAAK,CAAEN,WAAT,CAAD,CALlC,qCAKYO,IALZ,gBAKYA,IALZ,CAMIC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAL,QAAQ,CAACN,MAAM,CAAC,CAAEU,KAAK,CAAEC,IAAI,CAACD,KAAd,CAAqBI,IAAI,CAAEH,IAAI,CAACG,IAAhC,CAAD,CAAP,CAAR,CACAX,MAAM,GARV,+BAUIY,KAAK,CAAC,mCAAD,CAAL,CACA;AAXJ,wFAJ4B,yCAoB5B,mBACE,MAAC,IAAD,EAAM,KAAK,CAAC,wBAAZ,CAAqC,IAAI,CAAC,OAA1C,wBACE,KAAC,SAAD,EACE,KAAK,CAAEX,WADT,CAEE,QAAQ,CAAE,kBAACY,CAAD,QAAOX,CAAAA,cAAc,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAArB,EAFZ,EADF,cAKE,oCACE,YAAK,SAAS,CAAErB,MAAM,CAACsB,gBAAvB,uBACE,KAAC,MAAD,EAAQ,IAAI,CAAC,MAAb,CAAoB,OAAO,CAAEZ,MAA7B,EADF,EADF,cAIE,UAAG,SAAS,CAAEV,MAAM,CAACuB,eAArB,+GAJF,GALF,GADF,CAiBD,CArCD,CAuCA,cAAelB,CAAAA,KAAf","sourcesContent":["import React, { useState } from \"react\";\nimport Card from \"../../../../components/shared/Card/Card\";\nimport Button from \"../../../../components/shared/Button/Button\";\nimport TextInput from \"../../../../components/shared/TextInput/TextInput\";\nimport styles from \"../StepPhoneEmail.module.css\";\nimport { sendOtp } from \"../../../../http/index\";\nimport { useDispatch } from \"react-redux\";\nimport { setOtp } from \"../../../../store/authSlice\";\nimport Alert from \"../../../../components/Alert/Alert\";\n\nconst Phone = ({ onNext }) => {\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\n  const dispatch = useDispatch();\n\n  async function submit() {\n    if (!phoneNumber) return;\n    const regexPhoneNumber =\n      /^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$/im;\n    if (phoneNumber.match(regexPhoneNumber)) {\n      const { data } = await sendOtp({ phone: phoneNumber });\n      console.log(data);\n      dispatch(setOtp({ phone: data.phone, hash: data.hash }));\n      onNext();\n    } else {\n      alert(\"Please Enter a Valid Phone Number\");\n      //   <Alert error={\"Please Enter a Valid Phone\"}></Alert>;\n      return;\n    }\n  }\n\n  return (\n    <Card title=\"Enter you phone number\" icon=\"phone\">\n      <TextInput\n        value={phoneNumber}\n        onChange={(e) => setPhoneNumber(e.target.value)}\n      />\n      <div>\n        <div className={styles.actionButtonWrap}>\n          <Button text=\"Next\" onClick={submit} />\n        </div>\n        <p className={styles.bottomParagraph}>\n          By entering your number, youâ€™re agreeing to our Terms of Service and\n          Privacy Policy. Thanks!\n        </p>\n      </div>\n    </Card>\n  );\n};\n\nexport default Phone;\n"]},"metadata":{},"sourceType":"module"}