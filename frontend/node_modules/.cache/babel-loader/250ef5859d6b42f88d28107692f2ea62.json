{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/himan/Downloads/Compressed/Glains-Coders-House-master/GlainsCodersHouse/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/himan/Downloads/Compressed/Glains-Coders-House-master/GlainsCodersHouse/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/himan/Downloads/Compressed/Glains-Coders-House-master/GlainsCodersHouse/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Card from'../../../components/shared/Card/Card';import TextInput from'../../../components/shared/TextInput/TextInput';import Button from'../../../components/shared/Button/Button';import styles from'./StepOtp.module.css';import{verifyOtp}from'../../../http';import{useSelector}from'react-redux';import{setAuth}from'../../../store/authSlice';import{useDispatch}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var StepOtp=function StepOtp(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),otp=_useState2[0],setOtp=_useState2[1];var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.auth.otp;}),phone=_useSelector.phone,hash=_useSelector.hash;function submit(){return _submit.apply(this,arguments);}function _submit(){_submit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$verifyOtp,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!otp||!phone||!hash)){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.prev=2;_context.next=5;return verifyOtp({otp:otp,phone:phone,hash:hash});case 5:_yield$verifyOtp=_context.sent;data=_yield$verifyOtp.data;dispatch(setAuth(data));_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return _submit.apply(this,arguments);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:styles.cardWrapper,children:/*#__PURE__*/_jsxs(Card,{title:\"Enter the code we just texted you\",icon:\"lock-emoji\",children:[/*#__PURE__*/_jsx(TextInput,{value:otp,onChange:function onChange(e){return setOtp(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{className:styles.actionButtonWrap,children:/*#__PURE__*/_jsx(Button,{onClick:submit,text:\"Next\"})}),/*#__PURE__*/_jsx(\"p\",{className:styles.bottomParagraph,children:\"By entering your number, you\\u2019re agreeing to our Terms of Service and Privacy Policy. Thanks!\"})]})})});};export default StepOtp;","map":{"version":3,"sources":["C:/Users/himan/Downloads/Compressed/Glains-Coders-House-master/GlainsCodersHouse/backend/frontend/src/pages/Steps/StepOtp/StepOtp.jsx"],"names":["React","useState","Card","TextInput","Button","styles","verifyOtp","useSelector","setAuth","useDispatch","StepOtp","otp","setOtp","dispatch","state","auth","phone","hash","submit","data","console","log","cardWrapper","e","target","value","actionButtonWrap","bottomParagraph"],"mappings":"qoBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,IAAP,KAAiB,sCAAjB,CACA,MAAOC,CAAAA,SAAP,KAAsB,gDAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0CAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,OAASC,SAAT,KAA0B,eAA1B,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,OAAT,KAAwB,0BAAxB,CACA,OAASC,WAAT,KAA4B,aAA5B,C,6IAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAClB,cAAsBT,QAAQ,CAAC,EAAD,CAA9B,wCAAOU,GAAP,eAAYC,MAAZ,eACA,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CACA,iBAAwBF,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACC,IAAN,CAAWJ,GAAtB,EAAD,CAAnC,CAAQK,KAAR,cAAQA,KAAR,CAAeC,IAAf,cAAeA,IAAf,CAHkB,QAIHC,CAAAA,MAJG,4HAIlB,kKACQ,CAACP,GAAD,EAAQ,CAACK,KAAT,EAAkB,CAACC,IAD3B,wGAG+BX,CAAAA,SAAS,CAAC,CAAEK,GAAG,CAAHA,GAAF,CAAOK,KAAK,CAALA,KAAP,CAAcC,IAAI,CAAJA,IAAd,CAAD,CAHxC,uCAGgBE,IAHhB,kBAGgBA,IAHhB,CAIQN,QAAQ,CAACL,OAAO,CAACW,IAAD,CAAR,CAAR,CAJR,iFAMQC,OAAO,CAACC,GAAR,cANR,qEAJkB,yCAalB,mBACI,sCACI,YAAK,SAAS,CAAEhB,MAAM,CAACiB,WAAvB,uBACI,MAAC,IAAD,EACI,KAAK,CAAC,mCADV,CAEI,IAAI,CAAC,YAFT,wBAII,KAAC,SAAD,EACI,KAAK,CAAEX,GADX,CAEI,QAAQ,CAAE,kBAACY,CAAD,QAAOX,CAAAA,MAAM,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EAFd,EAJJ,cAQI,YAAK,SAAS,CAAEpB,MAAM,CAACqB,gBAAvB,uBACI,KAAC,MAAD,EAAQ,OAAO,CAAER,MAAjB,CAAyB,IAAI,CAAC,MAA9B,EADJ,EARJ,cAWI,UAAG,SAAS,CAAEb,MAAM,CAACsB,eAArB,+GAXJ,GADJ,EADJ,EADJ,CAsBH,CAnCD,CAqCA,cAAejB,CAAAA,OAAf","sourcesContent":["import React, { useState } from 'react';\nimport Card from '../../../components/shared/Card/Card';\nimport TextInput from '../../../components/shared/TextInput/TextInput';\nimport Button from '../../../components/shared/Button/Button';\nimport styles from './StepOtp.module.css';\nimport { verifyOtp } from '../../../http';\nimport { useSelector } from 'react-redux';\nimport { setAuth } from '../../../store/authSlice';\nimport { useDispatch } from 'react-redux';\n\nconst StepOtp = () => {\n    const [otp, setOtp] = useState('');\n    const dispatch = useDispatch();\n    const { phone, hash } = useSelector((state) => state.auth.otp);\n    async function submit() {\n        if (!otp || !phone || !hash) return;\n        try {\n            const { data } = await verifyOtp({ otp, phone, hash });\n            dispatch(setAuth(data));\n        } catch (err) {\n            console.log(err);\n        }\n    }\n    return (\n        <>\n            <div className={styles.cardWrapper}>\n                <Card\n                    title=\"Enter the code we just texted you\"\n                    icon=\"lock-emoji\"\n                >\n                    <TextInput\n                        value={otp}\n                        onChange={(e) => setOtp(e.target.value)}\n                    />\n                    <div className={styles.actionButtonWrap}>\n                        <Button onClick={submit} text=\"Next\" />\n                    </div>\n                    <p className={styles.bottomParagraph}>\n                        By entering your number, youâ€™re agreeing to our Terms of\n                        Service and Privacy Policy. Thanks!\n                    </p>\n                </Card>\n            </div>\n        </>\n    );\n};\n\nexport default StepOtp;\n"]},"metadata":{},"sourceType":"module"}